如何确保消息不会丢失
    生产阶段
        1、检查消息丢失的方法：通过给每个消息附加一个递增的序列号，检查他的一个连续性
        问题注意
            不保证主题有序，只能保证分区有序，在检查连续性，需要指定分区
            如果是多生产者，需要加载生产者标识和和他的一个递增序列

         2、再生产阶段注意try catch 异常 以及异步回调的处理
    储存阶段
        1、收到消息后，持久化到磁盘，在回复消息
        2、多个节点接收到后，在回复消息
    消费阶段
        采用生产阶段一样逻辑，保证消息可靠性



如果消息在网络传输过程中发送错误，由于发送方收不到确认，会通过重发来保证消息不丢失。但是，如果确认响应在网络传输时丢失，也会导致重发消息。也就是说，无论是 Broker 还是 Consumer 都是有可能收到重复消息的，那我们在编写消费代码时，就需要考虑这种情况，你可以想一下，在消费消息的代码中，该如何处理这种重复消息，才不会影响业务逻辑的正确性？欢迎在留言区与我分享讨论
    通过一个唯一标识，做好幂等