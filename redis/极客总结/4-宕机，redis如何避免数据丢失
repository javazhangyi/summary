4-宕机，redis如何避免数据丢失
  AOF：文件追加
    如何实现：先执行，在持久化命令到磁盘（$+数字，后面紧跟命令或者操作）
    存在的问题：一直追加，1）持久化到磁盘的时间 2）文件增大，阻塞后面的操作
    解决方法：1）控制回写策略 2）文件重写，保证文件大小在一定范围
    回写策略：
      always：每次都回写
      everysec：每隔一秒
      no：系统控制回写
    AOF 重写会阻塞吗?
        创建fork-join一瞬间会，他会复制父进程的内存结构，如果实例比较大，就比较耗时，在有新的数据进来，如果是bigkey，它采用的cow，这个过程也是阻塞耗时的
        创建fork-join会，以及缓存数据追加
        文件重写：一处拷贝，两处日志
          开启一个线程复制主线程的内存进行AOF，里面包含数据库最新的数据，当命令过来的时候，保存到一缓冲区，执行完后，追加到末尾
  RDB：快照

  选择持久化维度：
    数据丢失风险、恢复速度、redis的影响、持久化文件大小
