26-缓存异常，解决雪崩，击穿，穿透
  雪崩：
    大量的可以失效，避免大面积失效，
      解决方案
        要求大面积失效，在失效时间添加一个较小的随机时间
        服务降级：只有部分请求落在数据库上
          非核心：放回错误信息
          核心：仍然只读
    redis实例down机
      解决方法：
        在业务中使用熔断或者限流
        构建redis高可用

  击穿：
    某一个时刻，key失效，但是当量的请求进入大数据库上
    解决方法：不设置过期

  穿透
    大量的不存在的请求key，发送到数据库
    解决方法：
      布隆过滤
        通过n个hash算法，得到n个值，放入到数组中，判断一个key是否存在，就判断这n个hash值，是否在数组中，只要有一个不存在，那就不存在，可能出现误判的情况
      设置空值
      前端检测：把非法参数过滤一下
    原因：
      业务错误的删除到数据和缓存的数据
      恶意攻击



总结：
    问题      诱因                                                          解决方案
    雪崩      1、大量的key通一时间过期,大量请求落在数据库上                      1、在过期的key上，设置随机值  2、服务降级，暂定非核心业务查询数据库
             2、redis服务宕机                                               1、使用redis高可用集群

    击穿      key过期,恰好有大量请求,在这时间直接到数据库                        1、设置key不过期 2、加锁
    穿透      请求缓存和数据库不存在的key 原因1、业务层操作失误 2、恶意攻击        1、布隆过滤 2、设置空值


   可以采用服务熔断、服务降级、请求限流的方法来应对。请你思考下，这三个机制可以用来应对缓存穿透问题吗？
    业务层操作失误缓存          数据较少，自己就可以恢复
                              数据较多，在降级和限流的情况下，恢复数据就好
    恶意攻击                   在限流的时间，加上ip白名单

   名词       解释                              区别
   降级       将部分不重要的功能暂时限定           应对自己的故障
   熔断       直接放回友好提示                    应对外部的故障
   限流       只支持一定量的请求                  流量调大